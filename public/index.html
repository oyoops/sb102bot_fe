<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-36Y7QNF54Z"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-36Y7QNF54Z');
    </script>
    
    <!-- Other -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <link rel="apple-touch-icon" sizes="180x180" href="/misc/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/misc/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/misc/favicon-16x16.png">
    <link rel="manifest" href="/misc/site.webmanifest">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron&display=swap" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="styles.css">
    
    <title>Home | Live Local Guru</title>
</head>

<body>
    <!-- Top Menu Bar -->   
    <div id="menuBar">
        <a href="https://www.livelocal.guru"><img src="./imgs/logoMobile.png" alt="Live Local Guru Logo" id="logo"></a>
        <a href="https://www.livelocal.guru"><img src="./imgs/logoMobile.png" alt="Live Local Guru Mobile Logo" id="logoMobile"></a>
    </div>

    <!-- Main header -->
    <h1 id="mainHeader">
        <br><a href="https://www.livelocal.guru/index.html"><img src="./imgs/logo.png" alt="Live Local Guru Main Logo" id="mainLogo"></a>
        <!-- <br><b>Live Local Guru</b> -->
    </h1>

    <!-- Initial Content: Address Input -->
    <div id="initialContent">
        <p>
            Give me an address, and I'll tell you if you can Live Local on it.
        </p>
        <form id="searchForm">
            <input type="text" id="addressInput" placeholder="Address...">
            <div class="switchContainer">
                <p>🧠Concise Mode</p>
                <label class="switchBox">
                    <input type="checkbox" id="superchargeSwitch" name="supercharge" value="off">
                    <span class="toggle round"></span>
                </label>
            </div>
            <button type="submit">Can I Live Local?</button>
        </form>        
        <p>
            <br>See if your FL property is eligible for <u><a href="https://www.floridahousing.org/live-local-act">Live Local Act</a></u> development.
            <br>If so, I'll help you to calculate its new maximum potential.
            <br>Read <a href="https://www.cresunshine.com/"><u>more</u></a> about the game-changing new state law.
        </p>
    </div>

    <!-- Navigation Buttons -->
    <div class="nav-buttons" id="navButtonsContainer">
        <a href="https://www.livelocal.guru/index.html" class="fancy-button">About</a>
        <a href="https://www.cresunshine.com" class="fancy-button">Blog</a>
        <a href="https://www.livelocal.guru/index.html" class="fancy-button">Contact</a>
    </div>

    <!-- Info Sections -->
    <div id="infoSections">
        <br>
        <!-- Most recent updates -->
        <div id="recentUpdates">
            <h2><u>Latest Updates</u></h2>
            <ul>
                <li><b>11-04-2023</b> <br><u>v0.122</u>: Map now shows comps within a 3 mi. radius</li>
                <li><b>11-03-2023</b> <br><u>v0.121</u>: Started integrating a comps database</li>
                <li><b>11-01-2023</b> <br><u>v0.120</u>: Added 🧠Concise Mode for a shorter & smarter response</li>
                <li><b>10-31-2023</b> <br><u>v0.110</u>: Fixed most of the remaining bugs</li>
                <li><b>10-29-2023</b> <br><u>v0.100</u>: Launched Live Local Guru alpha</li>
                <!-- ... other updates ... -->
            </ul>
            <br>
        </div>

        <!-- Future updates -->
        <div id="futureUpdates">
            <h2><u>Future Updates</u></h2>
            <ul>
                <li><b></b>Halve time per search by optimizing AI a lot</li>
                <li><b></b>Inputs for development program/revenue/expenses</li>
                <li><b></b>Custom user instructions to guide the analysis</li>
                <li><b></b>Select properties from a clickable map instead of address input</li>
                <!-- ... other future updates ... -->
            </ul>
            <br>
        </div>

        <!-- Current bugs -->
        <div id="currentBugs">
            <h2><u>Current Bugs</u></h2>
            <ul>
                <li><u><b>TOP PRIORITY!</b></u> <br><b>20%</b> of 🧠Concise Mode searches fail after 60 sec; page refreshes.</li>
                <li>Significantly downscaling AI quality to avoid timeouts.</li>
                <li>Max density does not consider city floor area ratio restrictions, if any.</li>
                <li><s><b>20%</b> of searches fail to recognize when within city limits. <br>(defaults to unincorporated county)</s></li>
                <li><s><b>30%</b> of AI responses fail to know the max building height. <br>(map always shows it accurately)</s></li>
                <li><s><b>100%</b> of AI responses fail to know the affordable rent limits. <br>(table always shows them accurately)</s></li>
                <!-- ... other bugs ... -->
            </ul>
        </div>
        <br><br><br>
    </div>

    <!-- Map -->
    <!-- <br> -->
    <div id="map" style="display: none"></div>
    
    <!-- Eligibility Result -->
    <div id="eligibilityStatus"></div> 

    <!-- Loading Indicator -->
    <div class="loading-container">
        <br><br>
        <div class="loading-text">
            Conducting due diligence. 
            <br><i>Please wait...</i>
        </div>
        <div class="loading-bar">
            <div class="loading-fill"></div>
            <div class="loading-percentage">0%</div>
        </div>
        <br>
        <div class="spinner"></div>
    </div>


    <!-- Comps -->
    <table id="compsTable" style="display: none">
        <thead>
            <tr>
                <th>Comp Name</th>
            </tr>
        </thead>
        <tbody>
            <!-- Rows will be populated here -->
        </tbody>
    </table>

    <div id="averagesTableContainer" style="display: none">
        <!-- The averages table will be rendered here -->
    </div>


    <!-- Parcel data table -->
    <!-- <br> -->
    <!-- <table id="parcelDataTable" border="1" cellpadding="10" cellspacing="0" style="border-collapse: collapse; width: 100%; display: none;"> -->
    <!--     <thead> -->
    <!--         <tr> -->
    <!--             <th colspan="4">Property</th> -->
    <!--         </tr> -->
    <!--         <tr> -->
    <!--             <th>Owner</th> -->
    <!--             <th>Parcel ID</th> -->
    <!--             <th>Acreage</th> -->
    <!--             <th>Current Use</th> -->
    <!--         </tr> -->
    <!--     </thead> -->
    <!--     <tbody> -->
    <!--         Data will be inserted here by JavaScript -->
    <!--     </tbody> -->
    <!-- </table> -->
    
    <!-- County data table -->
    <table id="countyDataTable" border="1" cellpadding="10" cellspacing="0" style="border-collapse: collapse; width: 100%; display: none;">
        <thead>
            <tr>
                <th colspan="4">Municipality</th>
            </tr>
            <tr>
                <th>City</th>
                <th>County</th>
                <th>Area Median Income</th>
                <th>Millage (Est.)</th>
            </tr>
        </thead>
        <tbody>
            <!-- Data will be inserted here by JavaScript -->
        </tbody>
    </table>

    <div id="rentInfoContainer" style="display: none;">
        <!-- County max rents table -->
        <br>
        <div class="table-container">
            <table id="countyMaxRentsTable">
                <thead>
                    <tr>
                        <th colspan="4">Max. Live Local 'Affordable' Rents</th>
                    </tr>
                    <tr>
                        <th>Studio</th>
                        <th>1BD</th>
                        <th>2BD</th>
                        <th>3BD</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Data will be inserted here by JavaScript -->
                </tbody>
            </table>
            <p> 
                <i>Affordable rent limits are the maximums allowed at 120% AMI.
                <br>Must <u>include</u> electricity, water, insurance, and taxes.</i>
            </p>
        </div>
    </div>
    


    <!-- START: PART 2 -- DEVELOPMENT PROGRAM I/O -->
    <div id="developmentProgramInputSection" style="display: none;">
        
        <!-- Acreage Input -->
        <br>
        <h4>How many acres will you use for multifamily?</h4>
        <input type="number" id="acreageInput" placeholder="Acreage" value="10" step="0.25">      <i>Override</i> | <b>Automatic</b>
        
        <!-- Density Input (Max. units/ac. allowed) -->
        <br>
        <h4>What is the maximum unit density allowed by the municipality?</h4>
        <input type="number" id="densityInput" placeholder="Units/ac." value="50" step="5">      <i>Override</i> | <b>Automatic</b>

        <!-- <br><br><h2><u>Development Program</u></h2> -->
        
        <!-- Affordable Units Percentage Slider -->
        <br>
        <label for="affordablePctSlider">
            <h3>
                Affordable Units: <span id="affordablePctDisplay">40%</span>
            </h3>
        </label>
        <input type="range" id="affordablePctSlider" min="0" max="100" value="40" step="1">
        
        <!-- Unit Count Outputs -->
        <!-- <h4>Unit Counts</h4> -->
        <br>
        <table id="unitCalculationTable" border="1" cellpadding="10" cellspacing="0" style="border-collapse: collapse; display: none;">
            <thead>
                <tr>
                    <th colspan="3">Unit Counts</th>
                </tr>
                <tr>
                    <th>Affordable</th>
                    <th>Market</th>
                    <th>Total</th>
                </tr>
            </thead>
            <tbody id="unitCalculationTableBody">
                <!-- Data will be inserted here by JavaScript -->
            </tbody>
        </table>
    
        <!-- Warnings Container -->
        <div id="warningContainer" style="display: none"></div>

        <!-- Unit Size Inputs Section (Table + checkbox) -->
        <h3>Unit Sizes</h3>
        <label><input type="checkbox" id="matchAffordableSizes"> Match market-rate and affordable unit sizes?</label>
        <table border="1" cellpadding="10" cellspacing="0" style="border-collapse: collapse;">
            <thead>
                <!-- <tr><th colspan="3">Avg. Unit Sizes</th></tr> -->
                <tr>
                    <th></th>
                    <th>Market</th>
                    <th>Affordable</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Studio</td>
                    <td><input type="number" class="sizeInput marketSizeInput" id="marketStudioSize" placeholder="Size" value="500" step="25"></td>
                    <td><input type="number" class="sizeInput affordableSizeInput" id="affordableStudioSize" placeholder="Size" value="500" step="25"></td>
                </tr>
                <tr>
                    <td>1BD</td>
                    <td><input type="number" class="sizeInput marketSizeInput" id="market1BDSize" placeholder="Size" value="750" step="25"></td>
                    <td><input type="number" class="sizeInput affordableSizeInput" id="affordable1BDSize" placeholder="Size" value="750" step="25"></td>
                </tr>
                <tr>
                    <td>2BD</td>
                    <td><input type="number" class="sizeInput marketSizeInput" id="market2BDSize" placeholder="Size" value="1000" step="25"></td>
                    <td><input type="number" class="sizeInput affordableSizeInput" id="affordable2BDSize" placeholder="Size" value="1000" step="25"></td>
                </tr>
                <tr>
                    <td>3BD</td>
                    <td><input type="number" class="sizeInput marketSizeInput" id="market3BDSize" placeholder="Size" value="1250" step="25"></td>
                    <td><input type="number" class="sizeInput affordableSizeInput" id="affordable3BDSize" placeholder="Size" value="1250" step="25"></td>
                </tr>
                <!-- <tr> -->
                    <!-- <td><b>Avgs.</b></td> -->
                    <!-- <td><b><span id="weightedAvgMarketSize">0</span> sq. ft.</b></td> -->
                    <!-- <td><b><span id="weightedAvgAffordableSize">0</span> sq. ft.</b></td> -->
                <!-- </tr> -->
            </tbody>
        </table>

        <!-- Weighted Avg Unit Size Outputs -->
        <h4>Weighted average sizes:</h4>
        <p>Market:  <span id="avgMarketSizeDisplay">0</span> sq. ft.</p>
        <p>Affordable:  <span id="avgAffordableSizeDisplay">0</span> sq. ft.</p>
        <p><b>Blended:  <span id="avgBlendedSizeDisplay">0</span> sq. ft.</b></p>

        <!-- Market Rate Rents Input Section -->
        <br>
        <section id="marketRateInputSection" style="display: none;">
            <h2><u>Revenue</u></h2>
            <table border="1" cellpadding="10" cellspacing="0" style="border-collapse: collapse;">
                <thead>
                    <!-- <tr><th colspan="2"></th></tr> -->
                    <tr>
                        <th></th>
                        <th>Market Rents (all-in)</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Studio</td>
                        <td><input type="number" class="marketRateInput" id="marketRateStudio" placeholder="$2,000" value="2000" step="100"></td>
                    </tr>
                    <tr>
                        <td>1BD</td>
                        <td><input type="number" class="marketRateInput" id="marketRate1BD" placeholder="$2,400" value="2400" step="100"></td>
                    </tr>
                    <tr>
                        <td>2BD</td>
                        <td><input type="number" class="marketRateInput" id="marketRate2BD" placeholder="$2,800" value="2800" step="100"></td>
                    </tr>
                    <tr>
                        <td>3BD</td>
                        <td><input type="number" class="marketRateInput" id="marketRate3BD" placeholder="$3,200" value="3200" step="100"></td>
                    </tr>
                </tbody>
            </table>
            <!-- <p><i>These placeholders are not representative of the subject.</i></p> -->
        </section>

        <!-- Rent per Sq. Ft. Table -->
        <section id="rentPerSqFtTableSection" style="display: none;">
            <!-- <br><h4>Rent per Sq. Ft.</h4> -->
            <table id="rentPerSqFtTable" border="1" cellpadding="10" cellspacing="0" style="border-collapse: collapse;">
                <thead>
                    <tr>
                        <th colspan="3">Rents (per Sq. Ft.)</th>
                    </tr>
                    <tr>
                        <th></th>
                        <th>Market</th>
                        <th>Affordable</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Studio</td>
                        <td id="marketRateStudioPerSqFt">-</td>
                        <td id="affordableStudioPerSqFt">-</td>
                    </tr>
                    <tr>
                        <td>1BD</td>
                        <td id="marketRate1BDPerSqFt">-</td>
                        <td id="affordable1BDPerSqFt">-</td>
                    </tr>
                    <tr>
                        <td>2BD</td>
                        <td id="marketRate2BDPerSqFt">-</td>
                        <td id="affordable2BDPerSqFt">-</td>
                    </tr>
                    <tr>
                        <td>3BD</td>
                        <td id="marketRate3BDPerSqFt">-</td>
                        <td id="affordable3BDPerSqFt">-</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <!-- Land + Total HC Inputs -->
        <br>
        <section id="landAndTotalHcInputSection" style="display: none;">
            <h2><u>Total Development Costs</u></h2>
            <table border="1" cellpadding="10" cellspacing="0" style="border-collapse: collapse;">
                <thead>
                    <tr>
                        <th colspan="2">Hard Costs (per unit)</th>
                    </tr>
                    <tr>
                        <th>Land</th>
                        <th>Construction</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><input type="number" class="landInput" id="landCostPerUnitInput" placeholder="$25,000" value="25000" step="1000"></td>
                        <td><input type="number" class="hcInput" id="totalHCPerUnitInput" placeholder="$200,000" value="200000" step="5000"></td>
                    </tr>
                </tbody>
            </table>
        </section>

        <!-- Land + Total HC Outputs  -->
        <section id="totalLandAndTotalHcOutputSection" style="display: none;">
            <table id="totalLandAndTotalHcTable" border="1" cellpadding="10" cellspacing="0" style="border-collapse: collapse;">
                <thead>
                <tr>
                        <th>Land</th>
                        <th>Construction</th>
                        <th><b>Total</b></th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td id="totalLandCost">-</td>
                        <td id="totalHcCost">-</td>
                        <td id="totalLandAndTotalHc">-</td>
                    </tr>
                </tbody>
                <tfoot>
                    <tr>
                        <th colspan="2">Per unit</th>
                        <th id="totalLandAndTotalHcPerUnit">-</th>
                    </tr>
                    <tr>
                        <th colspan="2">Per sq. ft.</th>
                        <th id="totalLandAndTotalHcPerSqFt">-</th>
                    </tr>
                </tfoot>
            </table>
        </section>

        <!-- Property Tax Abatement Outputs -->
        <br>
        <h2><u>Property Tax Abatement</u></h2>
        <table id="abatementTable" border="1" cellpadding="10" cellspacing="0" style="border-collapse: collapse; display: none;">
            <thead>
                <tr>
                    <th colspan="2">Abatement Calculations</th>
                </tr>
                <tr>
                    <th>
                        Savings (net)
                    </th>
                    <th>
                        Δ Rent Equivalent
                    </th>
                </tr>
            </thead>
            <tbody id="abatementTableBody">
                <!-- Data will be inserted here by JavaScript -->
            </tbody>
        </table>
        <p>
            The tax abatement contributes to Project NOI as much as a rent increase of <i><b>$Δ Rent Equivalent</b></i> would.
            </br>It runs for the same 30-year term as the deed restriction; applies to ad valorem taxes only (i.e., excludes any fire/waste/CDD assessments). 
            </br>Raising exit cap +15-25 bps should be sufficient to mitigate the restrictions, per my capital markets homies.
        </p>

        <!-- New Search ('Try Again') Button -->
        <br><button id="tryAgainButton" style="display: none;">New Search</button>    
    </div>

    <!-- Spacing -->
    <br>

    <!-- Footer -->
    <footer>
        <p>
            Created by <b>Nick</b> |<a href="https://www.cresunshine.com/" target="_blank"><b>CRE☀️</b></a>| Last update: 11-04-2023
            <!-- Created by<a href="https://www.twitter.com/oyoops" target="_blank"><u>@oyoops</u></a>|<a href="https://www.cresunshine.com/" target="_blank"><u>CRE☀️</u></a>|<a href="https://www.github.com/oyoops/sb102bot_fe"><u>GitHub</u></a>| Last update: 11/1/23 -->
        </p>
    </footer>

    <!-- Scripts -->
    <script src="./globals.js"></script>
    <!-- <script src="./calculations.js"></script> -->
    <script src="./utilities.js"></script>
    <script src="./comps.js"></script>
    <script src="./gmap.js"></script>
    <script src="./gsheet.js"></script>
    <script src="./useCodes.js"></script>
    <!-- <script src="./domElements.js"></script> -->
    <!-- <script src="./main.js"></script> -->
    <script type="module" src="main.js"></script>
</body>
</html>
