<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <link rel="apple-touch-icon" sizes="180x180" href="/misc/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/misc/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/misc/favicon-16x16.png">
    <link rel="manifest" href="/misc/site.webmanifest">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="styles.css">
    
    <title>Live Local Calculator</title>
</head>

<body>
    <!-- Top Menu Bar -->   
    <div id="menuBar">
        <a href="https://www.oyoops.com"><img src="./imgs/logoMobile.png" alt="Live Local Calculator Logo" id="logo"></a>
        <a href="https://www.oyoops.com"><img src="./imgs/logoMobile.png" alt="Live Local Calculator Mobile Logo" id="logoMobile"></a>
    </div>

    <!-- Main header -->
    <h1 id="mainHeader">
        So you want to <b>Live Local</b>?
    </h1>

    <!-- Initial Content (Address input) -->
    <div id="initialContent">
        <p>
            Enter an address to see what you can do on the property.
        </p>
        <form id="searchForm">
            <input type="text" id="addressInput" placeholder="Address...">
            <br>
            <button type="submit">What can be built here?</button>
        </form>
        <p>
            <br>Find out if a property qualifies for <a href="https://www.cresunshine.com/"><u>Live Local</u></a> development.
            <br>If it does, I can help you calculate its new potential.
            <br>Results in 10 seconds. No registration needed.
        </p>
    </div>

    <!--- Loading Indicator -->
    <div class="loading">Please wait.  Doing due diligence</div>

    <!-- (OLD / NOT IN USE!) 'Tallest nearby building' information section -->
    <!-- (this section describes the location of the tallest building within a one-mile radius of the input location) -->
     <!-- <div id="result" style="display: none;"> -->
        <!-- <div class="imageContainer"> -->
            <!-- <div id="inputAddressImage" class="imageItem"></div> -->
            <!-- <div id="tallestBuildingImage" class="imageItem"></div> -->
        <!-- </div> -->
     <!-- </div> -->

    <!-- Spacing -->
    <br><br>
    
    <!-- Map -->
    <div id="map" style="width: 90%; display: none"></div>

    <!-- Eligibility Result -->
    <br>
    <div id="eligibilityStatus"></div> 

    <!-- Parcel data table -->
    <br>
    <table id="parcelDataTable" border="1" cellpadding="10" cellspacing="0" style="border-collapse: collapse; width: 100%; display: none;">
        <thead>
            <tr>
                <th>Parcel ID</th>
                <th>Acreage</th>
                <th>Owner</th>
                <th>Current Use</th>
            </tr>
        </thead>
        <tbody>
            <!-- Data will be inserted here by JavaScript -->
        </tbody>
    </table>
    
    <!-- County data table -->
    <table id="countyDataTable" border="1" cellpadding="10" cellspacing="0" style="border-collapse: collapse; width: 100%; display: none;">
        <thead>
            <tr>
                <th>County</th>
                <th>Municipality</th>
                <th>Area Median Income</th>
                <th>County Mills</th>
            </tr>
        </thead>
        <tbody>
            <!-- Data will be inserted here by JavaScript -->
        </tbody>
    </table>

    <!-- County max rents table -->
    <table id="countyMaxRentsTable" border="1" cellpadding="10" cellspacing="0" style="border-collapse: collapse; width: 100%; display: none;">
        <thead>
            <tr>
                <th>Max Studio</th>
                <th>Max 1BD</th>
                <th>Max 2BD</th>
                <th>Max 3BD</th>
            </tr>
        </thead>
        <tbody>
            <!-- Data will be inserted here by JavaScript -->
        </tbody>
    </table>

    <!-- START: PART 2 -- DEVELOPMENT PROGRAM I/O -->
    <div id="developmentProgramInputSection" style="display: none;">
        
        <!-- Acreage Input -->
        <br>
        <h4>How many acres is the property?</h4>
        <input type="number" id="acreageInput" placeholder="Acreage" value="10">
        
        <!-- Density Input (Max. units/ac. allowed) -->
        <br>
        <h4>What's the maximum density allowed in the municipality?</h4>
        <input type="number" id="densityInput" placeholder="Units/ac." value="50">

        <!-- Affordable Units Percentage Slider -->
        <br><br>
        <label for="affordablePctSlider"><h4>Affordable: <span id="affordablePctDisplay">0%</span></h4></label>
        <input type="range" id="affordablePctSlider" min="0" max="100" value="40" step="1">
        
        <!-- Unit Count Outputs -->
        <br>
        <h4>Unit Counts</h4>
        <table id="unitCalculationTable" border="1" cellpadding="10" cellspacing="0" style="border-collapse: collapse; width: 100%; display: none;">
            <thead>
                <tr>
                    <th>Affordable</th>
                    <th>Market Rate</th>
                    <th><b>Total</b></th>
                </tr>
            </thead>
            <tbody id="unitCalculationTableBody">
                <!-- Data will be inserted here by JavaScript -->
            </tbody>
        </table>
    
        <!-- Warnings Container (UnitCountError, %AffordableError, etc.) -->
        <div id="warningContainer" style="display: none"></div>

        <!-- Unit Size Inputs Section (Table w/ checkbox) -->
        <h4>Avg. Sizes</h4>
        <label><input type="checkbox" id="matchAffordableSizes"> Match affordable and market-rate unit sizes?</label>
        <table border="1" cellpadding="10" cellspacing="0" style="border-collapse: collapse; width: 100%;">
            <thead>
                <tr>
                    <th></th>
                    <th>Market Rate</th>
                    <th>Affordable</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Studio</td>
                    <td><input type="number" class="sizeInput marketSizeInput" id="marketStudioSize" placeholder="Size" value="500"></td>
                    <td><input type="number" class="sizeInput affordableSizeInput" id="affordableStudioSize" placeholder="Size" value="500"></td>
                </tr>
                <tr>
                    <td>1BD</td>
                    <td><input type="number" class="sizeInput marketSizeInput" id="market1BDSize" placeholder="Size" value="750"></td>
                    <td><input type="number" class="sizeInput affordableSizeInput" id="affordable1BDSize" placeholder="Size" value="750"></td>
                </tr>
                <tr>
                    <td>2BD</td>
                    <td><input type="number" class="sizeInput marketSizeInput" id="market2BDSize" placeholder="Size" value="1000"></td>
                    <td><input type="number" class="sizeInput affordableSizeInput" id="affordable2BDSize" placeholder="Size" value="1000"></td>
                </tr>
                <tr>
                    <td>3BD</td>
                    <td><input type="number" class="sizeInput marketSizeInput" id="market3BDSize" placeholder="Size" value="1250"></td>
                    <td><input type="number" class="sizeInput affordableSizeInput" id="affordable3BDSize" placeholder="Size" value="1250"></td>
                </tr>
            </tbody>
        </table>

        <!-- Weighted Average Unit Size Outputs -->
        <br>
        <h4>Averages:</h4>
        <p>Market Rate: <span id="avgMarketSizeDisplay">0</span> SF</p>
        <p>Affordable: <span id="avgAffordableSizeDisplay">0</span> SF</p>
        <p>Blended: <span id="avgTotalSizeDisplay">0</span> SF</p>

        <!-- Market Rate Rents Input Section -->
        <br>
        <section id="marketRateInputSection" style="display: none;">
            <h4>Market Rate Rents</h4>
            <table border="1" cellpadding="10" cellspacing="0" style="border-collapse: collapse; width: 100%;">
                <thead>
                    <tr>
                        <th>Unit Type</th>
                        <th>Rent</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Studio</td>
                        <td><input type="number" class="marketRateInput" id="marketRateStudio" placeholder="$2,000" value="2000"></td>
                    </tr>
                    <tr>
                        <td>1BD</td>
                        <td><input type="number" class="marketRateInput" id="marketRate1BD" placeholder="$2,400" value="2400"></td>
                    </tr>
                    <tr>
                        <td>2BD</td>
                        <td><input type="number" class="marketRateInput" id="marketRate2BD" placeholder="$2,800" value="2800"></td>
                    </tr>
                    <tr>
                        <td>3BD</td>
                        <td><input type="number" class="marketRateInput" id="marketRate3BD" placeholder="$3,200" value="3200"></td>
                    </tr>
                </tbody>
            </table>
        </section>

        <!-- Rent per Sq. Ft. Table -->
        <br>
        <section id="rentPerSqFtTableSection" style="display: none;">
            <h4>Rent per Sq. Ft.</h4>
            <table id="rentPerSqFtTable">
                <thead>
                    <tr>
                        <th></th>
                        <th>Market Rate</th>
                        <th>Affordable</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Studio</td>
                        <td id="marketRateStudioPerSqFt">-</td>
                        <td id="affordableStudioPerSqFt">-</td>
                    </tr>
                    <tr>
                        <td>1BD</td>
                        <td id="marketRate1BDPerSqFt">-</td>
                        <td id="affordable1BDPerSqFt">-</td>
                    </tr>
                    <tr>
                        <td>2BD</td>
                        <td id="marketRate2BDPerSqFt">-</td>
                        <td id="affordable2BDPerSqFt">-</td>
                    </tr>
                    <tr>
                        <td>3BD</td>
                        <td id="marketRate3BDPerSqFt">-</td>
                        <td id="affordable3BDPerSqFt">-</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <!-- Property Tax Abatement Outputs -->
        <br>
        <h4>Property Tax Abatement</h4>
        <table id="abatementTable" border="1" cellpadding="10" cellspacing="0" style="border-collapse: collapse; width: 100%; display: none;">
            <thead>
                <tr>
                    <th>Net Savings (30 yrs.)</th>
                </tr>
            </thead>
            <tbody id="abatementTableBody">
                <!-- Data will be inserted here by JavaScript -->
            </tbody>
        </table>

        <!-- Try Again button -->
        <br>
        <button id="tryAgainButton" style="display: none;">Try another property</button>    
        
        <!-- AI IC Memo Output -->
        <br>
        <h4>Acquisition <u>AI</u>nalyst</h4>
        <button id="runAIButton">Write an IC memo for me</button>
        <br>

        <div id="aiContainer" style="display: none;">
            <p>Hey, nice property you've got here.
            </br>Why don't I write an Investment Committee memo for you about it?</p>
            <!-- Data will be inserted here by JavaScript -->
        </div>

        <!-- START: PART 3 -- (...) -->
        <!-- END: PART 3 -- (...) -->            
    </div>

    <!-- Spacing -->
    <br><br><br>

    <!-- Footer -->
    <footer>
        <p>
            <br>Last update: Oct. 8, 2023
            <br>Created by <a href="https://www.twitter.com/oyoops" target="_blank"><u>@oyoops</u></a> | <a href="https://www.cresunshine.com/" target="_blank"><u>CRE☀️</u></a> | <a href="https://www.github.com/oyoops/sb102bot_fe"><u>GitHub</u></a>
        </p>
    </footer>

    <!-- Scripts -->
    <script src="./gmap.js"></script>
    <script src="./utilities.js"></script>
    <script src="./calculations.js"></script>
    <script src="./useCodes.js"></script>
    <script src="./main.js"></script>

</body>
</html>
